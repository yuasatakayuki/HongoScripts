<html>
<body>
<pre>
#!/usr/bin/env ruby

# Takayuki Yuasa 20140527

if(ARGV.length==0)then
	STDERR.puts &quot;Provide a csv file and separator (optional)&quot;
	exit
end

file=ARGV[0]
if(!File.exist?(file))then
	STDERR.puts &quot;Error: file not found&quot;
	exit
end

separator=&quot;,&quot;
if(ARGV[1]!=nil)then
	separator=ARGV[1]
end

trTags=[]
open(file).each(){|line|
	array=line.split(separator)
	str=&quot;&lt;tr&gt;&quot;
	array.each(){|e|
		str=str+&quot;&lt;td&gt;&quot;+e+&quot;&lt;/td&gt;&quot;
	}
	str=str+&quot;&lt;/tr&gt;&quot;
	trTags &lt;&lt; str
}

puts &lt;&lt;EOS
&lt;table&gt;
#{trTags.join(&quot;\n&quot;)}
&lt;/table&gt;
EOS
</pre>
</body>
</html>
