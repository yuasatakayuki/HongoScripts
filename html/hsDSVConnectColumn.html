<html>
<body>
<pre>
#!/usr/bin/env perl

#20081123 Takayuki Yuasa
#20090512 Takayuki Yuasa script name changed
#20100124 perl path fixed

if(@ARGV==0 or @ARGV%2!=0){
 print &quot;usage <span style="text-decoration:line-through;color:blue;">matrix_connect_column</span><span style="color:red;">hsDSVConnectColumn</span> FILE0 COLUMN0 FILE1 COLUMN1 ... FILE_N COLUMN_N\n&quot;;
 exit;
}

$nofline=0;

for($i=0;$i&lt;@ARGV;$i+=2){
 $file=$ARGV[$i];
 $column=$ARGV[$i+1];
 $n=$i/2;
 $tmpout=&quot;.tmp_connect_column_$n&quot;;
 system(&quot;<span style="text-decoration:line-through;color:blue;">matrix_get_column</span><span style="color:red;">hsDSVGetColumn</span> $file $column &gt; $tmpout&quot;);
 open(FILE,$tmpout);
 @file=&lt;FILE&gt;;close FILE;
 if($i==0){
  $nofline=@file;
 }else{
  if(@file!=$nofline){
   print STDERR &quot;error row numbers differ\n&quot;;
   system(&quot;rm .tmp_connect_column*&quot;);
   exit(-1);
  }
 }
 $o=0;
 foreach $line (@file) {
  chomp($line);
  if($n!=0){
   $outfile[$o]=$outfile[$o].&quot; &quot;.$line;
  }else{
   $outfile[$o]=$line;
  }
  $o++;
 }
}


for($row=0;$row&lt;$nofline;$row++){
 print $outfile[$row].&quot;\n&quot;;
}


system(&quot;rm .tmp_connect_column*&quot;);
</pre>
</body>
</html>
