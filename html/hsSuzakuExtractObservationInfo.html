<html>
<body>
<pre>
#!/bin/bash

#20090608 Takayuki Yuasa
#20090609 Takayuki Yuasa added Obs ID
#20090709 Takayuki Yuasa file check before execution

#this script creates a tex files which summarise observation information for
#an input fits files.

if [ _$2 = _ ];
then
echo &quot;usage : <span style="text-decoration:line-through;color:blue;">suzaku_extract_observation_information.sh</span><span style="color:red;">hsSuzakuExtractObservationInfo</span> (suzaku evt file) (output tex file name)&quot;
exit
fi

file=$1
outfile=$2

if [ ! -f $file ];
then
echo &quot;input file not found...exit&quot;
exit
fi

target=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 object`
dateobs=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 date-obs | sed -e &quot;s/T/ /g&quot;`
obsid=`<span style="text-decoration:line-through;color:blue;">obs_id.sh</span><span style="color:red;">hsFitsGetObsID</span> $file`
ontime=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 ontime`
ontimeks=`calc &quot;int($ontime/100)*100/1000&quot;`
observer=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 observer`
ra=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 ra_obj`
dec=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 dec_obj`
ea1=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 mean_ea1`
ea2=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 mean_ea2`
ea3=`<span style="text-decoration:line-through;color:blue;">getheader.sh</span><span style="color:red;">hsFitsGetHeader</span> $file 1 mean_ea3`


gal=`ftcoco none none R G $ra $dec chatter=2`
l=`echo $gal | awk &#39;{print $1}&#39;`
b=`echo $gal | awk &#39;{print $2}&#39;`

ra=`calc &quot;int($ra*100)/100&quot;`
dec=`calc &quot;int($dec*100)/100&quot;`
l=`calc &quot;int($l*100)/100&quot;`
b=`calc &quot;int($b*100)/100&quot;`


cat &lt;&lt; EOF &gt; $outfile
\\documentclass[a4paper]{article}
\\renewcommand{\\arraystretch}{1.5}
\\pagestyle{empty}
\\begin{document}
\\begin{center}
\\huge{
Observation Information\\
\\begin{table}[htb]
\\begin{center}
\\huge{
\\begin{tabular}{ll}
\\hline
Target &amp; $target\\\\
Date &amp; $dateobs\\\\
Obs ID &amp; $obsid\\\\
Exposure &amp; $ontimeks ks\\\\
PI &amp; $observer\\\\
(RA,DEC) &amp; ($ra,$dec)\\\\
(L,B) &amp; ($l,$b)\\\\
\\hline
\\end{tabular}
}
\\end{center}
\\end{table}
}
\\end{center}
\\end{document}
EOF

</pre>
</body>
</html>
