<html>
<body>
<pre>
#!/bin/bash

#20090308 Takayuki Yuasa

if [ _$3 = _ ];
then

echo &quot;<span style="text-decoration:line-through;color:blue;">pin_barycentric_correction.sh</span><span style="color:red;">hsPINBarycentriCorrection</span> (event file) (orbit file) (output event file) (Target RA;optional) (Target Dec;optional)&quot;
exit

fi

#parameter set
evtfile=$1
orbfile=$2
outputfile=$3

if [ _$4 = _ ];
then
ra=`<span style="text-decoration:line-through;color:blue;">ra_obj.sh</span><span style="color:red;">hsFitsGetRAOBJ</span> $evtfile`
else
ra=$4
fi

if [ _$5 = _ ];
then
dec=`<span style="text-decoration:line-through;color:blue;">dec_obj.sh</span><span style="color:red;">hsGetFitsDecObj</span> $evtfile`
else
dec=$5
fi


#barycentric correction
echo &quot;Target (RA,DEC)=(${ra},${dec})&quot;
cp $evtfile $outputfile
aebarycen filelist=$outputfile orbit=$orbfile ra=$ra dec=$dec leapfile=CALDB 
</pre>
</body>
</html>
