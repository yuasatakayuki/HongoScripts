<html>
<body>
<pre>

waitPerN=10
i=0
n=0

open(ARGV[0]).each {|line|
print &quot;#{line.chop()} &amp;\n&quot;
i=i+1
n=n+1
if(waitPerN==i)then
	i=0
	print &quot;echo \&quot;Waiting for processes #{n-waitPerN} - #{n} to complete.\&quot;\n&quot;
	print &quot;wait\n&quot;
end
}
print &quot;echo \&quot;Waiting for all processes to complete.\&quot;\n&quot;
print &quot;wait&quot;
print &quot;echo \&quot;Completed.\&quot;\n&quot;
</pre>
</body>
</html>
