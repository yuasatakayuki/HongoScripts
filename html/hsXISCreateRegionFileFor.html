<html>
<body>
<pre>
#!/bin/bash

#20090313 Takayuki Yuasa
#20090706 Takayuki Yuasa help message was modified

if [ _$2 = _ ];
then
echo &quot;<span style="text-decoration:line-through;color:blue;">xis_create_region_file_for.sh</span><span style="color:red;">hsXISCreateRegionFileFor</span> (input fits file) (output region filename) (radius in arcsec;optional, deafault=120)&quot;
exit
fi

inputfile=$1
outputfile=$2

mkdir `dirname $outputfile` &amp;&gt; /dev/null

if [ _$3 = _ ];
then
r=120
else
r=$3
fi

tmp=`<span style="text-decoration:line-through;color:blue;">get_hash_random.pl</span><span style="color:red;">hsHashRandom</span>`
tmp2=`<span style="text-decoration:line-through;color:blue;">get_hash_random.pl</span><span style="color:red;">hsHashRandom</span>`

cat &lt;&lt; EOF &gt; $tmp
# Region file format: DS9 version 4.0
# Filename: FILENAME
global color=green font=&quot;helvetica 10 normal&quot; select=1 highlite=1 edit=1 move=1 delete=1 include=1 fixed=0 source
fk5
circle(RA_OBJ,DEC_OBJ,20&quot;) # color=red width=3
circle(RA_OBJ,DEC_OBJ,RADIUS&quot;)
EOF

ra=`<span style="text-decoration:line-through;color:blue;">ra_obj.sh</span><span style="color:red;">hsFitsGetRAOBJ</span> $inputfile`
dec=`<span style="text-decoration:line-through;color:blue;">dec_obj.sh</span><span style="color:red;">hsGetFitsDecObj</span> $inputfile`

sed -e &quot;s/RA_OBJ/${ra}/g&quot; $tmp &gt; $tmp2
sed -e &quot;s/DEC_OBJ/${dec}/g&quot; $tmp2 &gt; $tmp
sed -e &quot;s/RADIUS/${r}/g&quot; $tmp &gt; $tmp2

mv $tmp2 $outputfile
rm $tmp
</pre>
</body>
</html>
