<html>
<body>
<pre>
#!/usr/bin/env ruby

#2013-08-28 Takayuki Yuasa

if(ARGV.length==0)then
	puts &quot;give file names to be sorted&quot;
	puts &quot;The &#39;-r&#39; option can be provided reverse sort result to descending order.&quot;
	exit
end

reverse=false
if(ARGV.count(&quot;-r&quot;)!=0)then
	reverse=true
end

array=[]

for file in ARGV do
	if(file==&quot;-r&quot;)then
		next
	end
	if(!File.exist?(file))then
		puts &quot;file #{file} not found&quot;
		exit
	end
	open(file).each(){|line|
		array &lt;&lt; line
	}
end

array.sort!() {|a,b|
 if(a.length&lt;b.length)then -1 else 1 end
}

if(reverse==false)then
	puts array.join()
else
	puts array.reverse().join()
end
</pre>
</body>
</html>
