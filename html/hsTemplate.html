<html>
<body>
<pre>
#!/usr/bin/env ruby

#2013-08-30 Takayuki Yuasa

#---------------------------------------------
# Template class
#---------------------------------------------
class TemplateText
	def initialize()
		@languageName=&quot;null&quot;
	end
	def setOptions(options)

	end
	def to_s()

	end
	def getLanguageName()
		return @languageName
	end
end

#---------------------------------------------
# Ruby
#---------------------------------------------
class RubyTemplate &lt; TemplateText
	def initialize()
		@languageName=&quot;ruby&quot;
	end
	def to_s()
		puts &lt;&lt;EOS
#!/usr/bin/env ruby

if(ARGV.length==0)then
	puts &quot;&quot;
	exit
end

#---------------------------------------------
# main process
#---------------------------------------------

# insert here

EOS
	end
end


#---------------------------------------------
# C++
#---------------------------------------------
class CppTemplate &lt; TemplateText
	def initialize()
		@languageName=&quot;cpp&quot;
	end
	def to_s()
		puts &lt;&lt;EOS
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

int main(int argc, char* argv[]){
	using namespace std;

}
EOS
	end
end


#---------------------------------------------
# Graphviz
#---------------------------------------------
class DotTemplate &lt; TemplateText
	def initialize()
		@languageName=&quot;dot&quot;
	end
	def to_s()
		puts &lt;&lt;EOS
graph g {
	rankdir=LR;
	graph [charset=&quot;UTF-8&quot;, fontname=&quot;Hiragino Kaku Gothic Pro&quot;]
	node[shape=box, fontname=&quot;Hiragino Kaku Gothic Pro&quot;, style=filled, fillcolor=&quot;#eeeeee&quot;, fontsize=10];
	edge[splines=false];

	NodeA -- NodeB;
	NodeA -- NodeC;

	{
		rank = same; &quot;NodeB&quot;; &quot;NodeC&quot;;
	}

}
EOS
	end
end


#---------------------------------------------
# MSC-Generator
#---------------------------------------------
class MscTemplate &lt; TemplateText
	def initialize()
		@languageName=&quot;msc&quot;
	end
	def to_s()
		puts &lt;&lt;EOS

EOS
	end
end


#---------------------------------------------
# xspec
#---------------------------------------------
class XspecTemplate &lt; TemplateText
	def initialize(args)
		argsCloned=args.clone()
		@dataFile=&quot;&quot;
		@backgroundFile=&quot;NONE&quot;
		@responseFile=&quot;NONE&quot;
		@arfFile=&quot;NONE&quot;
		@correctionFile=&quot;NONE&quot;
		@correctionNorm=&quot;1&quot;
		argsCloned.shift
		for arg in argsCloned do
			if(arg.include?(&quot;data=&quot;))then
				@dataFile=arg.gsub(&quot;data=&quot;,&quot;&quot;)
			end
			if(arg.include?(&quot;background=&quot;) or arg.include?(&quot;back=&quot;) or arg.include?(&quot;bgd=&quot;))then
				@backgroundFile=arg.gsub(&quot;background=&quot;,&quot;&quot;).gsub(&quot;back=&quot;,&quot;&quot;).gsub(&quot;bgd=&quot;,&quot;&quot;)
			end
			if(arg.include?(&quot;arf=&quot;))then
				@arfFile=arg.gsub(&quot;arf=&quot;,&quot;&quot;)
			end
			if(arg.include?(&quot;response=&quot;) or arg.include?(&quot;resp=&quot;))then
				@responseFile=arg.gsub(&quot;response=&quot;,&quot;&quot;).gsub(&quot;resp=&quot;,&quot;&quot;)
			end
			if(arg.include?(&quot;corfile=&quot;))then
				@correctionFile=arg.gsub(&quot;corfile=&quot;,&quot;&quot;)
			end
			if(arg.include?(&quot;cornorm=&quot;))then
				@correctionNorm=arg.gsub(&quot;cornorm=&quot;,&quot;&quot;)
			end
		end
		
		@languageName=&quot;xspec&quot;
	end
	def to_s()
		puts &lt;&lt;EOS
data #{@dataFile}
response #{@responseFile}
backgrnd #{@backgroundFile}
arf #{@arfFile}
corfile #{@correctionFile}
cornorm #{@correctionNorm}

setplot rebin 10,10,1
setplot energy
cpd /xs

EOS
	end
end


#---------------------------------------------
# main process
#---------------------------------------------

templates = {}
rubyTemplate=RubyTemplate.new
templates[rubyTemplate.getLanguageName()]=rubyTemplate
cppTemplate=CppTemplate.new
templates[cppTemplate.getLanguageName()]=cppTemplate
dotTemplate=DotTemplate.new
templates[dotTemplate.getLanguageName()]=dotTemplate
mscTemplate=MscTemplate.new
templates[mscTemplate.getLanguageName()]=mscTemplate
xspecTemplate=XspecTemplate.new(ARGV)
templates[xspecTemplate.getLanguageName()]=xspecTemplate

if(ARGV.length==0)then
	puts &quot;Available templates:&quot;
	templates.each(){|key,e|
		puts &quot;  #{key}&quot;
	}
end

languageName=ARGV[0]

puts templates[languageName].to_s()
</pre>
</body>
</html>
